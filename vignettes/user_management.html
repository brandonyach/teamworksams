<!DOCTYPE html>

<html :class="{'dark': darkMode === 'dark' || (darkMode === 'system' &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matches)}" class="scroll-smooth" data-content_root="../" lang="en" x-data="{ darkMode: localStorage.getItem('darkMode') || localStorage.setItem('darkMode', 'system'), activeSection: '' }" x-init="$watch('darkMode', val =&gt; localStorage.setItem('darkMode', val))">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="white" media="(prefers-color-scheme: light)" name="theme-color"/>
<meta content="black" media="(prefers-color-scheme: dark)" name="theme-color"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>User and Group Management | teamworksams 0.1.0 documentation</title>
<meta content="User and Group Management | teamworksams 0.1.0 documentation" property="og:title"/>
<meta content="User and Group Management | teamworksams 0.1.0 documentation" name="twitter:title"/>
<link href="../_static/pygments.css?v=e72c8e07" rel="stylesheet" type="text/css"/>
<link href="../_static/theme.css?v=42baaae4" rel="stylesheet" type="text/css"/>
<link href="../_static/custom.css" rel="stylesheet" type="text/css"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="exporting_data.html" rel="next" title="Exporting Data"/>
<link href="credentials.html" rel="prev" title="Managing Credentials, Authentication, and Caching"/>
<script>
    <!-- Prevent Flash of wrong theme -->
      const userPreference = localStorage.getItem('darkMode');
      let mode;
      if (userPreference === 'dark' || window.matchMedia('(prefers-color-scheme: dark)').matches) {
        mode = 'dark';
        document.documentElement.classList.add('dark');
      } else {
        mode = 'light';
      }
      if (!userPreference) {localStorage.setItem('darkMode', mode)}
    </script>
</head>
<body :class="{ 'overflow-hidden': showSidebar }" class="min-h-screen font-sans antialiased bg-background text-foreground" x-data="{ showSidebar: false, showScrollTop: false }">
<div @click.self="showSidebar = false" class="fixed inset-0 z-50 overflow-hidden bg-background/80 backdrop-blur-sm md:hidden" x-cloak="" x-show="showSidebar"></div><div class="relative flex flex-col min-h-screen" id="page"><a class="absolute top-0 left-0 z-[100] block bg-background p-4 text-xl transition -translate-x-full opacity-0 focus:translate-x-0 focus:opacity-100" href="#content">
      Skip to content
    </a><header class="sticky top-0 z-40 w-full border-b shadow-sm border-border supports-backdrop-blur:bg-background/60 bg-background/95 backdrop-blur"><div class="container flex items-center h-14">
<div class="hidden mr-4 md:flex">
<a class="flex items-center mr-6" href="../index.html">
<img alt="Logo" class="mr-2 dark:invert" height="24" src="../_static/ams_logo.png" width="24"/><span class="hidden font-bold sm:inline-block text-clip whitespace-nowrap">teamworksams 0.1.0 documentation</span>
</a></div><button @click="showSidebar = true" class="inline-flex items-center justify-center h-10 px-0 py-2 mr-2 text-base font-medium transition-colors rounded-md hover:text-accent-foreground hover:bg-transparent md:hidden" type="button">
<svg aria-hidden="true" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M152.587 825.087q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440Zm0-203.587q-19.152 0-32.326-13.174T107.087 576q0-19.152 13.174-32.326t32.326-13.174h320q19.152 0 32.326 13.174T518.087 576q0 19.152-13.174 32.326T472.587 621.5h-320Zm0-203.587q-19.152 0-32.326-13.174t-13.174-32.326q0-19.152 13.174-32.326t32.326-13.174h440q19.152 0 32.326 13.174t13.174 32.326q0 19.152-13.174 32.326t-32.326 13.174h-440ZM708.913 576l112.174 112.174q12.674 12.674 12.674 31.826t-12.674 31.826Q808.413 764.5 789.261 764.5t-31.826-12.674l-144-144Q600 594.391 600 576t13.435-31.826l144-144q12.674-12.674 31.826-12.674t31.826 12.674q12.674 12.674 12.674 31.826t-12.674 31.826L708.913 576Z"></path>
</svg>
<span class="sr-only">Toggle navigation menu</span>
</button>
<div class="flex items-center justify-between flex-1 space-x-2 sm:space-x-4 md:justify-end">
<div class="flex-1 w-full md:w-auto md:flex-none"><form @keydown.k.window.meta="$refs.search.focus()" action="../search.html" class="relative flex items-center group" id="searchbox" method="get">
<input aria-label="Search the docs" class="inline-flex items-center font-medium transition-colors bg-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background border border-input hover:bg-accent focus:bg-accent hover:text-accent-foreground focus:text-accent-foreground hover:placeholder-accent-foreground py-2 px-4 relative h-9 w-full justify-start rounded-[0.5rem] text-sm text-muted-foreground sm:pr-12 md:w-40 lg:w-64" id="search-input" name="q" placeholder="Search ..." type="search" x-ref="search"/>
<kbd class="pointer-events-none absolute right-1.5 top-2 hidden h-5 select-none text-muted-foreground items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100 sm:flex group-hover:bg-accent group-hover:text-accent-foreground">
<span class="text-xs">⌘</span>
    K
  </kbd>
</form>
</div>
<nav class="flex items-center space-x-1">
<button @click="darkMode = darkMode === 'light' ? 'dark' : 'light'" aria-label="Color theme switcher" class="relative inline-flex items-center justify-center px-0 text-sm font-medium transition-colors rounded-md hover:bg-accent hover:text-accent-foreground h-9 w-9" type="button">
<svg class="absolute transition-all scale-100 rotate-0 dark:-rotate-90 dark:scale-0" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 685q45.456 0 77.228-31.772Q589 621.456 589 576q0-45.456-31.772-77.228Q525.456 467 480 467q-45.456 0-77.228 31.772Q371 530.544 371 576q0 45.456 31.772 77.228Q434.544 685 480 685Zm0 91q-83 0-141.5-58.5T280 576q0-83 58.5-141.5T480 376q83 0 141.5 58.5T680 576q0 83-58.5 141.5T480 776ZM80 621.5q-19.152 0-32.326-13.174T34.5 576q0-19.152 13.174-32.326T80 530.5h80q19.152 0 32.326 13.174T205.5 576q0 19.152-13.174 32.326T160 621.5H80Zm720 0q-19.152 0-32.326-13.174T754.5 576q0-19.152 13.174-32.326T800 530.5h80q19.152 0 32.326 13.174T925.5 576q0 19.152-13.174 32.326T880 621.5h-80Zm-320-320q-19.152 0-32.326-13.174T434.5 256v-80q0-19.152 13.174-32.326T480 130.5q19.152 0 32.326 13.174T525.5 176v80q0 19.152-13.174 32.326T480 301.5Zm0 720q-19.152 0-32.326-13.17Q434.5 995.152 434.5 976v-80q0-19.152 13.174-32.326T480 850.5q19.152 0 32.326 13.174T525.5 896v80q0 19.152-13.174 32.33-13.174 13.17-32.326 13.17ZM222.174 382.065l-43-42Q165.5 327.391 166 308.239t13.174-33.065q13.435-13.674 32.587-13.674t32.065 13.674l42.239 43q12.674 13.435 12.555 31.706-.12 18.272-12.555 31.946-12.674 13.674-31.445 13.413-18.772-.261-32.446-13.174Zm494 494.761-42.239-43q-12.674-13.435-12.674-32.087t12.674-31.565Q686.609 756.5 705.38 757q18.772.5 32.446 13.174l43 41.761Q794.5 824.609 794 843.761t-13.174 33.065Q767.391 890.5 748.239 890.5t-32.065-13.674Zm-42-494.761Q660.5 369.391 661 350.62q.5-18.772 13.174-32.446l41.761-43Q728.609 261.5 747.761 262t33.065 13.174q13.674 13.435 13.674 32.587t-13.674 32.065l-43 42.239q-13.435 12.674-31.706 12.555-18.272-.12-31.946-12.555Zm-495 494.761Q165.5 863.391 165.5 844.239t13.674-32.065l43-42.239q13.435-12.674 32.087-12.674t31.565 12.674Q299.5 782.609 299 801.38q-.5 18.772-13.174 32.446l-41.761 43Q231.391 890.5 212.239 890t-33.065-13.174ZM480 576Z"></path>
</svg>
<svg class="absolute transition-all scale-0 rotate-90 dark:rotate-0 dark:scale-100" fill="currentColor" height="24" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 936q-151 0-255.5-104.5T120 576q0-138 90-239.5T440 218q25-3 39 18t-1 44q-17 26-25.5 55t-8.5 61q0 90 63 153t153 63q31 0 61.5-9t54.5-25q21-14 43-1.5t19 39.5q-14 138-117.5 229T480 936Zm0-80q88 0 158-48.5T740 681q-20 5-40 8t-40 3q-123 0-209.5-86.5T364 396q0-20 3-40t8-40q-78 32-126.5 102T200 576q0 116 82 198t198 82Zm-10-270Z"></path>
</svg>
</button>
</nav>
</div>
</div>
</header>
<div class="flex-1"><div class="container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10"><aside :aria-hidden="!showSidebar" :class="{ 'translate-x-0': showSidebar }" class="fixed inset-y-0 left-0 md:top-14 z-50 md:z-30 bg-background md:bg-transparent transition-all duration-100 -translate-x-full md:translate-x-0 ml-0 p-6 md:p-0 md:-ml-2 md:h-[calc(100vh-3.5rem)] w-5/6 md:w-full shrink-0 overflow-y-auto border-r border-border md:sticky" id="left-sidebar">
<a class="!justify-start text-sm md:!hidden bg-background" href="../index.html">
<img alt="Logo" class="mr-2 dark:invert" height="16" src="../_static/ams_logo.png" width="16"/><span class="font-bold text-clip whitespace-nowrap">teamworksams 0.1.0 documentation</span>
</a>
<div class="relative overflow-hidden md:overflow-auto my-4 md:my-0 h-[calc(100vh-8rem)] md:h-auto">
<div class="overflow-y-auto h-full w-full relative pr-6"><nav class="table w-full min-w-full my-6 lg:my-8">
<p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started with teamworksams</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vignettes</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="credentials.html">Managing Credentials, Authentication, and Caching</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">User and Group Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="exporting_data.html">Exporting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_data.html">Importing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="database_operations.html">Database Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="uploading_files.html">Uploading Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="managing_forms.html">Managing Forms</a></li>
<li class="toctree-l1"><a class="reference internal" href="deleting_data.html">Deleting Data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1" x-data="{ expanded: $el.classList.contains('current') ? true : false }"><a :class="{ 'expanded' : expanded }" @click="expanded = !expanded" class="reference internal expandable" href="../reference/reference.html">Functions and Classes<button @click.prevent.stop="expanded = !expanded" type="button"><span class="sr-only"></span><svg fill="currentColor" height="18px" stroke="none" viewbox="0 0 24 24" width="18px" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg></button></a><ul x-show="expanded">
<li class="toctree-l2"><a class="reference internal" href="../reference/get_client.html">get_client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/login.html">login</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/ams_client.html">AMSClient</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/ams_error.html">AMSError</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/login_option.html">LoginOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/get_user.html">get_user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/get_group.html">get_group</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/edit_user.html">edit_user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/create_user.html">create_user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/user_option.html">UserOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/group_option.html">GroupOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/user_filter.html">UserFilter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/get_event_data.html">get_event_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/sync_event_data.html">sync_event_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/get_profile_data.html">get_profile_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/event_filter.html">EventFilter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/sync_event_filter.html">SyncEventFilter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/profile_filter.html">ProfileFilter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/event_option.html">EventOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/sync_event_option.html">SyncEventOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/profile_option.html">ProfileOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/insert_event_data.html">insert_event_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/update_event_data.html">update_event_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/upsert_event_data.html">upsert_event_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/upsert_profile_data.html">upsert_profile_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/insert_event_option.html">InsertEventOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/update_event_option.html">UpdateEventOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/upsert_event_option.html">UpsertEventOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/upsert_profile_option.html">UpsertProfileOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/get_database.html">get_database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/delete_database_entry.html">delete_database_entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/insert_database_entry.html">insert_database_entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/update_database_entry.html">update_database_entry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/get_database_option.html">GetDatabaseOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/insert_database_option.html">InsertDatabaseOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/update_database_option.html">UpdateDatabaseOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/upload_and_attach_to_events.html">upload_and_attach_to_events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/upload_and_attach_to_avatars.html">upload_and_attach_to_avatars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/file_upload_option.html">FileUploadOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/get_forms.html">get_forms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/get_form_schema.html">get_form_schema</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/form_option.html">FormOption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/delete_event_data.html">delete_event_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/delete_multiple_events.html">delete_multiple_events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/delete_event_option.html">DeleteEventOption</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</div>
<button @click="showSidebar = false" class="absolute md:hidden right-4 top-4 rounded-sm opacity-70 transition-opacity hover:opacity-100" type="button">
<svg class="h-4 w-4" fill="currentColor" height="24" stroke="none" viewbox="0 96 960 960" width="24" xmlns="http://www.w3.org/2000/svg">
<path d="M480 632 284 828q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536 576l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480 632Z"></path>
</svg>
</button>
</aside>
<main class="relative py-6 lg:gap-10 lg:py-8 xl:grid xl:grid-cols-[1fr_300px]">
<div class="w-full min-w-0 mx-auto">
<nav aria-label="breadcrumbs" class="flex items-center mb-4 space-x-1 text-sm text-muted-foreground">
<a class="overflow-hidden text-ellipsis whitespace-nowrap hover:text-foreground" href="../index.html">
<span class="hidden md:inline">teamworksams 0.1.0 documentation</span>
<svg aria-label="Home" class="md:hidden" fill="currentColor" height="18" stroke="none" viewbox="0 96 960 960" width="18" xmlns="http://www.w3.org/2000/svg">
<path d="M240 856h120V616h240v240h120V496L480 316 240 496v360Zm-80 80V456l320-240 320 240v480H520V696h-80v240H160Zm320-350Z"></path>
</svg>
</a>
<div class="mr-1">/</div><span aria-current="page" class="font-medium text-foreground overflow-hidden text-ellipsis whitespace-nowrap">User and Group Management</span>
</nav>
<div id="content" role="main">
<section id="user-and-group-management">
<h1>User and Group Management<a class="headerlink" href="#user-and-group-management" title="Link to this heading"><span>#</span></a></h1>
<p>This vignette provides a comprehensive guide to managing users and groups in a Teamworks
AMS instance using <strong>teamworksams</strong>, covering <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">get_group()</span></code>,
<code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code>, and <code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code>. It equips you to fetch user and group data,
update user accounts, and create new users withpractical workflows, detailed examples,
best practices, and troubleshooting tips. See <span class="xref std std-ref">reference</span> for detailed function
documentation and <span class="xref std std-ref">vignettes/database_operations</span> for additional administrative tasks.</p>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#overview'"><span>#</span></a></h2>
<p><strong>teamworksams</strong> simplifies user and group management through the Teamworks AMS API,
offering functions to:</p>
<ul class="simple">
<li><p><strong>Fetch Users</strong>: Retrieve user data (e.g., IDs, names, account info, groups) with
flexible filtering.</p></li>
<li><p><strong>Fetch Groups</strong>: List groups accessible to the user.</p></li>
<li><p><strong>Update Users</strong>: Modify user fields (e.g., email, name) for existing accounts.</p></li>
<li><p><strong>Create Users</strong>: Add new user accounts with required and optional attributes.</p></li>
</ul>
<p>The functions covered in this vignette are:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code>: Fetch user data, optionally filtered by attributes like group or
email.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">get_group()</span></code>: Retrieve a list of groups.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code>: Update existing user accounts.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code>: Create new user accounts.</p></li>
</ul>
<p>All examples use the placeholder AMS instance URL
<code class="docutils literal notranslate"><span class="pre">https://example.smartabase.com/site</span></code>, username <code class="docutils literal notranslate"><span class="pre">username</span></code>, and password
<code class="docutils literal notranslate"><span class="pre">password</span></code>, with credentials managed via a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file for security and ease of use.</p>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#prerequisites'"><span>#</span></a></h2>
<p>Ensure <strong>teamworksams</strong> is installed and credentials are configured, as described in
<span class="xref std std-ref">vignettes/getting_started</span>. The recommended setup is a <code class="docutils literal notranslate"><span class="pre">.env</span></code> file:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">.env</span><a class="headerlink" href="#id1" title="Link to this code"><span>#</span></a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">AMS_URL = https://example.smartabase.com/site
</span><span id="line-2">AMS_USERNAME = username
</span><span id="line-3">AMS_PASSWORD = password
</span></code></pre></div>
</div>
</div>
<p>Load credentials with <code class="docutils literal notranslate"><span class="pre">python-dotenv</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">from</span><span class="w"> </span><span class="nn">dotenv</span><span class="w"> </span><span class="kn">import</span> <span class="n">load_dotenv</span>
</span><span id="line-2"><span class="n">load_dotenv</span><span class="p">()</span>
</span></code></pre></div>
</div>
<p>Alternatively, use <code class="docutils literal notranslate"><span class="pre">os</span></code>, direct arguments, or <code class="docutils literal notranslate"><span class="pre">keyring</span></code> (see
<span class="xref std std-ref">vignettes/credentials</span>). Required dependencies (installed with
<strong>teamworksams</strong>): <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">requests</span></code>, <code class="docutils literal notranslate"><span class="pre">python-dotenv</span></code>, <code class="docutils literal notranslate"><span class="pre">tqdm</span></code>.</p>
</section>
<section id="fetching-user-data-with-get-user">
<h2>Fetching User Data with <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code><a class="headerlink" href="#fetching-user-data-with-get-user" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#fetching-user-data-with-get-user'"><span>#</span></a></h2>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code> function retrieves user data as a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>, with
optional filtering using a <code class="xref py py-class docutils literal notranslate"><span class="pre">UserFilter</span></code> object to narrow results by attributes
like username, email, group, or about field. It’s ideal for auditing user accounts,
generating reports, or identifying specific users.</p>
<p><strong>Basic Usage</strong></p>
<p>Fetch all accessible users:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">from</span><span class="w"> </span><span class="nn">teamworksams</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_user</span><span class="p">,</span> <span class="n">UserOption</span>
</span><span id="line-2">
</span><span id="line-3"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span>
</span><span id="line-4">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-5">    <span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span>
</span><span id="line-6">        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="s2">"first_name"</span><span class="p">,</span> <span class="s2">"last_name"</span><span class="p">,</span> <span class="s2">"email"</span><span class="p">,</span> <span class="s2">"groups"</span><span class="p">],</span>
</span><span id="line-7">        <span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="line-8">    <span class="p">)</span>
</span><span id="line-9"><span class="p">)</span>
</span><span id="line-10">
</span><span id="line-11"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p><strong>Output</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">ℹ Fetching user data...
</span><span id="line-2">✔ Retrieved 5 users.
</span><span id="line-3">   user_id first_name last_name                email      groups
</span><span id="line-4">0    12345       John       Doe   john.doe@example.com     [TeamA]
</span><span id="line-5">1    12346       Jane     Smith jane.smith@example.com     [TeamB]
</span><span id="line-6">...
</span></code></pre></div>
</div>
<p><strong>Filtering Users</strong></p>
<p>Use <code class="xref py py-class docutils literal notranslate"><span class="pre">UserFilter</span></code> to retrieve users in a specific group:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">from</span><span class="w"> </span><span class="nn">teamworksams</span><span class="w"> </span><span class="kn">import</span> <span class="n">UserFilter</span>
</span><span id="line-2">
</span><span id="line-3"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span>
</span><span id="line-4">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-5">    <span class="nb">filter</span> <span class="o">=</span> <span class="n">UserFilter</span><span class="p">(</span><span class="n">user_key</span> <span class="o">=</span> <span class="s2">"group"</span><span class="p">,</span> <span class="n">user_value</span> <span class="o">=</span> <span class="s2">"TeamA"</span><span class="p">),</span>
</span><span id="line-6">    <span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="line-7"><span class="p">)</span>
</span><span id="line-8">
</span><span id="line-9"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">'user_id'</span><span class="p">,</span> <span class="s1">'first_name'</span><span class="p">,</span> <span class="s1">'groups'</span><span class="p">]])</span>
</span></code></pre></div>
</div>
<p><strong>Output</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">ℹ Fetching user data...
</span><span id="line-2">✔ Retrieved 2 users.
</span><span id="line-3">   user_id first_name  groups
</span><span id="line-4">0    12345       John  [TeamA]
</span><span id="line-5">1    12347        Bob  [TeamA]
</span></code></pre></div>
</div>
<p><strong>Customizing Output</strong></p>
<p>Select specific columns:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span>
</span><span id="line-2">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-3">    <span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="s2">"email"</span><span class="p">],</span> <span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="line-4"><span class="p">)</span>
</span><span id="line-5"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Fetch users by email:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span>
</span><span id="line-2">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-3">    <span class="nb">filter</span> <span class="o">=</span> <span class="n">UserFilter</span><span class="p">(</span><span class="n">user_key</span> <span class="o">=</span> <span class="s2">"email"</span><span class="p">,</span> <span class="n">user_value</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"john.doe@example.com"</span><span class="p">])</span>
</span><span id="line-4"><span class="p">)</span>
</span><span id="line-5"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">'user_id'</span><span class="p">,</span> <span class="s1">'email'</span><span class="p">]])</span>
</span></code></pre></div>
</div>
<p><strong>Best Practices</strong></p>
<ul class="simple">
<li><p>Use <code class="xref py py-class docutils literal notranslate"><span class="pre">UserFilter</span></code> to target specific users for efficiency.</p></li>
<li><p>Limit columns with <code class="docutils literal notranslate"><span class="pre">option.columns</span></code> to optimize DataFrame size.</p></li>
<li><p>Enable <code class="docutils literal notranslate"><span class="pre">interactive_mode</span></code> for real-time feedback during long operations.</p></li>
</ul>
</section>
<section id="fetching-group-data-with-get-group">
<h2>Fetching Group Data with <code class="xref py py-func docutils literal notranslate"><span class="pre">get_group()</span></code><a class="headerlink" href="#fetching-group-data-with-get-group" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#fetching-group-data-with-get-group'"><span>#</span></a></h2>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">get_group()</span></code> function retrieves a list of groups (e.g., teams, departments) as
a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>. It’s useful for auditing group structures or preparing data
for user assignments.</p>
<p><strong>Basic Usage</strong></p>
<p>Fetch all accessible groups:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">from</span><span class="w"> </span><span class="nn">teamworksams</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_group</span><span class="p">,</span> <span class="n">GroupOption</span>
</span><span id="line-2">
</span><span id="line-3"><span class="n">group_df</span> <span class="o">=</span> <span class="n">get_group</span><span class="p">(</span>
</span><span id="line-4">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-5">    <span class="n">option</span> <span class="o">=</span> <span class="n">GroupOption</span><span class="p">(</span><span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="line-6"><span class="p">)</span>
</span><span id="line-7">
</span><span id="line-8"><span class="nb">print</span><span class="p">(</span><span class="n">group_df</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p><strong>Output</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">ℹ Fetching group data...
</span><span id="line-2">✔ Retrieved 3 groups.
</span><span id="line-3">      name
</span><span id="line-4">0  TeamA
</span><span id="line-5">1  TeamB
</span><span id="line-6">2  TeamC
</span></code></pre></div>
</div>
<p><strong>Best Practices</strong></p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">guess_col_type=True</span></code> in <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupOption</span></code> to ensure consistent data types.</p></li>
<li><p>Cache the client for efficiency when combining with <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code>.</p></li>
</ul>
</section>
<section id="updating-user-profiles-with-edit-user">
<h2>Updating User Profiles with <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code><a class="headerlink" href="#updating-user-profiles-with-edit-user" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#updating-user-profiles-with-edit-user'"><span>#</span></a></h2>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code> function updates existing user fields (e.g., email, name) based on
a mapping DataFrame, using a user key (e.g., username, email) to identify users. It
returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> of results, making it easy to track updates and
issues. This is a powerful function as it will only update the fields based on columns
provided in the <code class="xref any docutils literal notranslate"><span class="pre">mapping_df</span></code> - meaning that it’s possible to just update things like
username, email, e.g. alone.</p>
<p><strong>Basic Usage</strong></p>
<p>Update user emails:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</span><span id="line-2"><span class="kn">from</span><span class="w"> </span><span class="nn">teamworksams</span><span class="w"> </span><span class="kn">import</span> <span class="n">edit_user</span><span class="p">,</span> <span class="n">UserOption</span>
</span><span id="line-3"><span class="n">mapping_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span><span id="line-4">    <span class="s2">"username"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"john.doe"</span><span class="p">,</span> <span class="s2">"jane.smith"</span><span class="p">],</span>
</span><span id="line-5">    <span class="s2">"email"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"john.doe@new.com"</span><span class="p">,</span> <span class="s2">"jane.smith@new.com"</span><span class="p">]</span>
</span><span id="line-6"><span class="p">})</span>
</span><span id="line-7">
</span><span id="line-8"><span class="n">results_df</span> <span class="o">=</span> <span class="n">edit_user</span><span class="p">(</span>
</span><span id="line-9">    <span class="n">mapping_df</span> <span class="o">=</span> <span class="n">mapping_df</span><span class="p">,</span>
</span><span id="line-10">    <span class="n">user_key</span> <span class="o">=</span> <span class="s2">"username"</span><span class="p">,</span>
</span><span id="line-11">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-12">    <span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="line-13"><span class="p">)</span>
</span><span id="line-14">
</span><span id="line-15"><span class="nb">print</span><span class="p">(</span><span class="n">results_df</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p><strong>Output</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">ℹ Fetching all user data...
</span><span id="line-2">✔ Retrieved 30 users.
</span><span id="line-3">ℹ Attempting to map 2 users using username from provided dataframe...
</span><span id="line-4">ℹ Successfully mapped 2 users.
</span><span id="line-5">ℹ Updating 2 users...
</span><span id="line-6">Processing users: 100%|██████████| 2/2 [00:04&lt;00:00, 3.46it/s]
</span><span id="line-7">✔ Successfully updated 2 users.
</span><span id="line-8">Empty DataFrame
</span><span id="line-9">Columns: [user_id, user_key, status, reason]
</span><span id="line-10">Index: []
</span></code></pre></div>
</div>
<p><strong>Updating Multiple Fields</strong></p>
<p>Update names and emails using <code class="xref any docutils literal notranslate"><span class="pre">about</span></code> as the key:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">mapping_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span><span id="line-2">    <span class="s2">"about"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"John Doe"</span><span class="p">,</span> <span class="s2">"Jane Smith"</span><span class="p">],</span>
</span><span id="line-3">    <span class="s2">"first_name"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Jonathan"</span><span class="p">,</span> <span class="s2">"Janet"</span><span class="p">],</span>
</span><span id="line-4">    <span class="s2">"email"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"jonathan.doe@new.com"</span><span class="p">,</span> <span class="s2">"janet.smith@new.com"</span><span class="p">]</span>
</span><span id="line-5"><span class="p">})</span>
</span><span id="line-6">
</span><span id="line-7"><span class="n">results_df</span> <span class="o">=</span> <span class="n">edit_user</span><span class="p">(</span>
</span><span id="line-8">    <span class="n">mapping_df</span> <span class="o">=</span> <span class="n">mapping_df</span><span class="p">,</span>
</span><span id="line-9">    <span class="n">user_key</span> <span class="o">=</span> <span class="s2">"about"</span><span class="p">,</span>
</span><span id="line-10">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span>
</span><span id="line-11"><span class="p">)</span>
</span><span id="line-12">
</span><span id="line-13"><span class="nb">print</span><span class="p">(</span><span class="n">results_df</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p><strong>Best Practices</strong></p>
<ul class="simple">
<li><p>Validate <code class="docutils literal notranslate"><span class="pre">mapping_df</span></code> columns against supported fields (e.g., <code class="docutils literal notranslate"><span class="pre">first_name</span></code>,
<code class="docutils literal notranslate"><span class="pre">email</span></code>, <code class="docutils literal notranslate"><span class="pre">dob</span></code>).</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">interactive_mode</span></code> for progress tracking and confirmation prompts.</p></li>
<li><p>Check <code class="docutils literal notranslate"><span class="pre">results_df</span></code> for successful updates and errors.</p></li>
</ul>
</section>
<section id="creating-new-users-with-create-user">
<h2>Creating New Users with <code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code><a class="headerlink" href="#creating-new-users-with-create-user" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#creating-new-users-with-create-user'"><span>#</span></a></h2>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code> function adds new user accounts, requiring fields like
<code class="docutils literal notranslate"><span class="pre">first_name</span></code>, <code class="docutils literal notranslate"><span class="pre">username</span></code>, and <code class="docutils literal notranslate"><span class="pre">password</span></code>. It returns a <code class="xref py py-class docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>
of failed creations.</p>
<p><strong>Basic Usage</strong></p>
<p>Create a new user:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">user_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span><span id="line-2">    <span class="s2">"first_name"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Alice"</span><span class="p">],</span>
</span><span id="line-3">    <span class="s2">"last_name"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Yu"</span><span class="p">],</span>
</span><span id="line-4">    <span class="s2">"username"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"alice.yu"</span><span class="p">],</span>
</span><span id="line-5">    <span class="s2">"email"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"alice.yu@example.com"</span><span class="p">],</span>
</span><span id="line-6">    <span class="s2">"dob"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"1990-01-01"</span><span class="p">],</span>
</span><span id="line-7">    <span class="s2">"password"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"secure789"</span><span class="p">],</span>
</span><span id="line-8">    <span class="s2">"active"</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">]</span>
</span><span id="line-9"><span class="p">})</span>
</span><span id="line-10">
</span><span id="line-11"><span class="n">failed_df</span> <span class="o">=</span> <span class="n">create_user</span><span class="p">(</span>
</span><span id="line-12">    <span class="n">user_df</span> <span class="o">=</span> <span class="n">user_df</span><span class="p">,</span>
</span><span id="line-13">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-14">    <span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="line-15"><span class="p">)</span>
</span><span id="line-16">
</span><span id="line-17"><span class="nb">print</span><span class="p">(</span><span class="n">failed_df</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p><strong>Output</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">ℹ Creating 1 users...
</span><span id="line-2">✔ Successfully created 1 users.
</span><span id="line-3">Empty DataFrame
</span><span id="line-4">Columns: [user_key, reason]
</span><span id="line-5">Index: []
</span></code></pre></div>
</div>
<p><strong>Creating Multiple Users</strong></p>
<p>Create users with optional fields:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">user_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span><span id="line-2">    <span class="s2">"first_name"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Bob"</span><span class="p">,</span> <span class="s2">"Carol"</span><span class="p">],</span>
</span><span id="line-3">    <span class="s2">"last_name"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Lee"</span><span class="p">,</span> <span class="s2">"Wong"</span><span class="p">],</span>
</span><span id="line-4">    <span class="s2">"username"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"bob.lee"</span><span class="p">,</span> <span class="s2">"carol.wong"</span><span class="p">],</span>
</span><span id="line-5">    <span class="s2">"email"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"bob.lee@example.com"</span><span class="p">,</span> <span class="s2">"carol.wong@example.com"</span><span class="p">],</span>
</span><span id="line-6">    <span class="s2">"dob"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"1985-06-15"</span><span class="p">,</span> <span class="s2">"1992-03-22"</span><span class="p">],</span>
</span><span id="line-7">    <span class="s2">"password"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"pass123"</span><span class="p">,</span> <span class="s2">"pass456"</span><span class="p">],</span>
</span><span id="line-8">    <span class="s2">"active"</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
</span><span id="line-9">    <span class="s2">"sex"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Male"</span><span class="p">,</span> <span class="s2">"Female"</span><span class="p">],</span>
</span><span id="line-10">    <span class="s2">"uuid"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"025380"</span><span class="p">,</span> <span class="s2">"024854"</span><span class="p">]</span>
</span><span id="line-11"><span class="p">})</span>
</span><span id="line-12"><span class="n">failed_df</span> <span class="o">=</span> <span class="n">create_user</span><span class="p">(</span><span class="n">user_df</span> <span class="o">=</span> <span class="n">user_df</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">)</span>
</span><span id="line-13">
</span><span id="line-14"><span class="nb">print</span><span class="p">(</span><span class="n">failed_df</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p><strong>Best Practices</strong></p>
<ul class="simple">
<li><p>Ensure required fields (<code class="docutils literal notranslate"><span class="pre">first_name</span></code>, <code class="docutils literal notranslate"><span class="pre">last_name</span></code>, <code class="docutils literal notranslate"><span class="pre">username</span></code>, <code class="docutils literal notranslate"><span class="pre">email</span></code>,
<code class="docutils literal notranslate"><span class="pre">dob</span></code>, <code class="docutils literal notranslate"><span class="pre">password</span></code>, <code class="docutils literal notranslate"><span class="pre">active</span></code>) are present in <code class="docutils literal notranslate"><span class="pre">user_df</span></code>.</p></li>
<li><p>Use strong passwords compliant with AMS policies.</p></li>
<li><p>Verify <code class="docutils literal notranslate"><span class="pre">failed_df</span></code> for creation issues.</p></li>
</ul>
</section>
<section id="options-and-usage-notes">
<h2>Options and Usage Notes<a class="headerlink" href="#options-and-usage-notes" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#options-and-usage-notes'"><span>#</span></a></h2>
<p>This section provides detailed guidance on using option classes (<code class="xref py py-class docutils literal notranslate"><span class="pre">UserOption</span></code>,
<code class="xref py py-class docutils literal notranslate"><span class="pre">GroupOption</span></code>) and the filter class (<code class="xref py py-class docutils literal notranslate"><span class="pre">UserFilter</span></code>) to customize user and
group operations, along with key usage notes for caching, column selection, data
validation, and interactive mode.</p>
<p><strong>Option Classes</strong></p>
<p>Each user and group function supports a specific option class to configure its behavior.
These classes must be instantiated with parameters like <code class="docutils literal notranslate"><span class="pre">interactive_mode</span></code>,
<code class="docutils literal notranslate"><span class="pre">cache</span></code>, and others. For example, to select specific columns in <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">from</span><span class="w"> </span><span class="nn">teamworksams</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_user</span><span class="p">,</span> <span class="n">UserOption</span>
</span><span id="line-2">
</span><span id="line-3"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span>
</span><span id="line-4">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-5">    <span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="s2">"email"</span><span class="p">])</span>
</span><span id="line-6"><span class="p">)</span>
</span></code></pre></div>
</div>
<p>The option classes and their associated functions are:</p>
<ul class="simple">
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code>: <code class="xref py py-class docutils literal notranslate"><span class="pre">UserOption</span></code></p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">get_group()</span></code>: <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupOption</span></code></p></li>
</ul>
<p>Available parameters for <code class="xref py py-class docutils literal notranslate"><span class="pre">UserOption</span></code>:</p>
<ul>
<li><p><strong>columns (Optional[List[str]])</strong>: Only for <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code>. List of column names
to include in the output DataFrame (e.g., [‘user_id’, ‘first_name’, ‘email’]). If
None, includes all available columns (e.g., ‘user_id’, ‘first_name’, ‘last_name’,
‘email’, ‘groups’, ‘about’, ‘active’, ‘dob’, ‘sex’, ‘uuid’). Defaults to None.
Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="s2">"email"</span><span class="p">,</span> <span class="s2">"groups"</span><span class="p">])</span>
</span><span id="line-2"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">,</span> <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">)</span>
</span></code></pre></div>
</div>
</li>
<li><p><strong>interactive_mode (bool)</strong>: If True, displays status messages (e.g., “Retrieved 5
users” for <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code>, “Successfully updated 2 users” for <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code>)
and <code class="xref py py-mod docutils literal notranslate"><span class="pre">tqdm</span></code> progress bars for <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code> and <code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code>. Set to
False for silent execution in automated scripts. Defaults to True. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="line-2"><span class="n">failed_df</span> <span class="o">=</span> <span class="n">create_user</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">)</span>  <span class="c1"># No output</span>
</span></code></pre></div>
</div>
</li>
<li><p><strong>cache (bool)</strong>: If True, reuses an existing <code class="xref py py-class docutils literal notranslate"><span class="pre">AMSClient</span></code> via
<code class="xref py py-func docutils literal notranslate"><span class="pre">get_client()</span></code>, reducing API calls for authentication or data retrieval. Set to
False for fresh data, increasing API overhead. Defaults to True. See “Caching” below.</p></li>
</ul>
<p>Available parameters for <code class="xref py py-class docutils literal notranslate"><span class="pre">GroupOption</span></code>:</p>
<ul>
<li><p><strong>guess_col_type (bool)</strong>: If True, infers column data types in the output DataFrame
(e.g., string for ‘name’), ensuring compatibility with operations like merging with
<code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code> results. Set to False to use default pandas types (e.g., object).
Defaults to True. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">option</span> <span class="o">=</span> <span class="n">GroupOption</span><span class="p">(</span><span class="n">guess_col_type</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="line-2"><span class="n">group_df</span> <span class="o">=</span> <span class="n">get_group</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">,</span> <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">)</span>
</span><span id="line-3"><span class="nb">print</span><span class="p">(</span><span class="n">group_df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>  <span class="c1"># name: object</span>
</span></code></pre></div>
</div>
</li>
<li><p><strong>interactive_mode (bool)</strong>: If True, displays status messages (e.g., “Retrieved 3
groups”). Set to False for silent execution. Defaults to True.</p></li>
<li><p><strong>cache (bool)</strong>: If True, reuses an existing <code class="xref py py-class docutils literal notranslate"><span class="pre">AMSClient</span></code>, reducing API calls.
Defaults to True.</p></li>
</ul>
<p><strong>Filter Class</strong></p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">UserFilter</span></code> class filters users in <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code> by attributes. For
example, to filter by email:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">from</span><span class="w"> </span><span class="nn">teamworksams</span><span class="w"> </span><span class="kn">import</span> <span class="n">UserFilter</span>
</span><span id="line-2"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span>
</span><span id="line-3">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span>
</span><span id="line-4">    <span class="nb">filter</span> <span class="o">=</span> <span class="n">UserFilter</span><span class="p">(</span><span class="n">user_key</span> <span class="o">=</span> <span class="s2">"email"</span><span class="p">,</span> <span class="n">user_value</span> <span class="o">=</span> <span class="s2">"john.doe@example.com"</span><span class="p">)</span>
</span><span id="line-5"><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Available parameters for <code class="xref py py-class docutils literal notranslate"><span class="pre">UserFilter</span></code>:</p>
<ul>
<li><p><strong>user_key (Optional[str])</strong>: Attribute to filter by. Must be one of ‘username’,
‘email’, ‘group’, or ‘about’. For example, ‘group’ filters by group membership (e.g.,
‘TeamA’). If None, no filtering is applied. Defaults to None.</p></li>
<li><p><strong>user_value (Optional[Union[str, List[str]]])</strong>: Value(s) to match for <a class="reference internal" href="../reference/event_filter.html#teamworksams.export_filter.EventFilter.user_key" title="teamworksams.export_filter.EventFilter.user_key"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">user_key</span></code></a>.
For example, ‘TeamA’ or [‘TeamA’, ‘TeamB’] for <code class="xref any docutils literal notranslate"><span class="pre">user_key="group"</span></code>. Case-sensitive.
If None, no filtering is applied. Defaults to None. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nb">filter</span> <span class="o">=</span> <span class="n">UserFilter</span><span class="p">(</span><span class="n">user_key</span> <span class="o">=</span> <span class="s2">"username"</span><span class="p">,</span> <span class="n">user_value</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"john.doe"</span><span class="p">,</span> <span class="s2">"jane.smith"</span><span class="p">])</span>
</span><span id="line-2"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">,</span> <span class="nb">filter</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">)</span>
</span></code></pre></div>
</div>
</li>
</ul>
<p>Valid <a class="reference internal" href="../reference/event_filter.html#teamworksams.export_filter.EventFilter.user_key" title="teamworksams.export_filter.EventFilter.user_key"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">user_key</span></code></a> values and their <a class="reference internal" href="../reference/event_filter.html#teamworksams.export_filter.EventFilter.user_value" title="teamworksams.export_filter.EventFilter.user_value"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">user_value</span></code></a> requirements:</p>
<ul class="simple">
<li><p><strong>username</strong>: AMS usernames (e.g., [“john.doe”]).</p></li>
<li><p><strong>email</strong>: User emails (e.g., [”<a class="reference external" href="mailto:john.doe%40example.com">john<span>.</span>doe<span>@</span>example<span>.</span>com</a>”]).</p></li>
<li><p><strong>about</strong>: Full names (e.g., [“John Doe”]).</p></li>
<li><p><strong>group</strong>: Group name (e.g., “TeamA”). Use <code class="xref py py-func docutils literal notranslate"><span class="pre">get_group()</span></code> to list groups.</p></li>
</ul>
<p><strong>Caching</strong></p>
<p>When <code class="xref any docutils literal notranslate"><span class="pre">option.cache=True</span></code> (default), functions reuse an existing <code class="xref py py-class docutils literal notranslate"><span class="pre">AMSClient</span></code>
created by <code class="xref py py-func docutils literal notranslate"><span class="pre">get_client()</span></code>, maintaining an authenticated session and reducing API
calls for login or data retrieval. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">cache</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="line-2"><span class="n">user_df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">,</span> <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">)</span>
</span><span id="line-3"><span class="n">group_df</span> <span class="o">=</span> <span class="n">get_group</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">,</span> <span class="n">option</span> <span class="o">=</span> <span class="n">GroupOption</span><span class="p">(</span><span class="n">cache</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>  <span class="c1"># Reuses client</span>
</span></code></pre></div>
</div>
<p>Set <code class="xref any docutils literal notranslate"><span class="pre">cache=False</span></code> for independent sessions, ensuring fresh data but increasing API
overhead.</p>
<p><strong>Column Selection</strong></p>
<p>For <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code>, the <a class="reference internal" href="../reference/user_option.html#teamworksams.user_option.UserOption.columns" title="teamworksams.user_option.UserOption.columns"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">columns</span></code></a> parameter in <code class="xref py py-class docutils literal notranslate"><span class="pre">UserOption</span></code> allows selecting
specific columns from the API response. Supported columns include:</p>
<ul class="simple">
<li><p><code class="xref any docutils literal notranslate"><span class="pre">user_id</span></code>: Unique AMS-generated user ID.</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">first_name</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">last_name</span></code>: User’s name.</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">email</span></code>: User’s email address.</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">groups</span></code>: List of group memberships (e.g., [‘TeamA’]).</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">about</span></code>: Full name (concatenation of first and last names).</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">active</span></code>: Boolean indicating account status.</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">dob</span></code>: Date of birth (format: YYYY-MM-DD).</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">sex</span></code>: Gender (e.g., “Male”, “Female”).</p></li>
<li><p><code class="xref any docutils literal notranslate"><span class="pre">uuid</span></code>: Optional unique identifier.</p></li>
<li><p>Others: Additional fields like <code class="xref any docutils literal notranslate"><span class="pre">known_as</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">language</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">sidebar_width</span></code> (if available).</p></li>
</ul>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="s2">"email"</span><span class="p">,</span> <span class="s2">"active"</span><span class="p">])</span>
</span><span id="line-2"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">,</span> <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">)</span>
</span><span id="line-3"><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>  <span class="c1"># user_id: int64, email: object, active: bool</span>
</span></code></pre></div>
</div>
<p><strong>Data Validation</strong></p>
<p>For <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code>, the <code class="xref any docutils literal notranslate"><span class="pre">mapping_df</span></code> DataFrame must include a <a class="reference internal" href="../reference/event_filter.html#teamworksams.export_filter.EventFilter.user_key" title="teamworksams.export_filter.EventFilter.user_key"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">user_key</span></code></a> column
(one of ‘username’, ‘email’, ‘about’, ‘uuid’) and updatable columns from the supported
list (e.g., <code class="xref any docutils literal notranslate"><span class="pre">first_name</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">email</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">dob</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">sex</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">active</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">uuid</span></code>). Empty values are
sent as empty strings. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">mapping_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span><span id="line-2">    <span class="s2">"uuid"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"025380"</span><span class="p">],</span>
</span><span id="line-3">    <span class="s2">"email"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"new.email@example.com"</span><span class="p">],</span>
</span><span id="line-4">    <span class="s2">"active"</span><span class="p">:</span> <span class="p">[</span><span class="kc">False</span><span class="p">]</span>
</span><span id="line-5"><span class="p">})</span>
</span><span id="line-6"><span class="n">results_df</span> <span class="o">=</span> <span class="n">edit_user</span><span class="p">(</span><span class="n">mapping_df</span> <span class="o">=</span> <span class="n">mapping_df</span><span class="p">,</span> <span class="n">user_key</span> <span class="o">=</span> <span class="s2">"uuid"</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>For <code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code>, the <code class="xref any docutils literal notranslate"><span class="pre">user_df</span></code> DataFrame must include required columns:
<code class="xref any docutils literal notranslate"><span class="pre">first_name</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">last_name</span></code>, <a class="reference internal" href="../reference/ams_client.html#teamworksams.utils.AMSClient.username" title="teamworksams.utils.AMSClient.username"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">username</span></code></a>, <code class="xref any docutils literal notranslate"><span class="pre">email</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">dob</span></code> (format: YYYY-MM-DD),
<a class="reference internal" href="../reference/ams_client.html#teamworksams.utils.AMSClient.password" title="teamworksams.utils.AMSClient.password"><code class="xref any py py-attr docutils literal notranslate"><span class="pre">password</span></code></a>, <code class="xref any docutils literal notranslate"><span class="pre">active</span></code> (boolean). Optional columns include <code class="xref any docutils literal notranslate"><span class="pre">uuid</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">known_as</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">sex</span></code>,
<code class="xref any docutils literal notranslate"><span class="pre">middle_names</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">language</span></code>, <code class="xref any docutils literal notranslate"><span class="pre">sidebar_width</span></code>. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">user_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
</span><span id="line-2">    <span class="s2">"first_name"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Alice"</span><span class="p">],</span>
</span><span id="line-3">    <span class="s2">"last_name"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Yu"</span><span class="p">],</span>
</span><span id="line-4">    <span class="s2">"username"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"alice.yu"</span><span class="p">],</span>
</span><span id="line-5">    <span class="s2">"email"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"alice.yu@example.com"</span><span class="p">],</span>
</span><span id="line-6">    <span class="s2">"dob"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"1990-01-01"</span><span class="p">],</span>
</span><span id="line-7">    <span class="s2">"password"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"secure789"</span><span class="p">],</span>
</span><span id="line-8">    <span class="s2">"active"</span><span class="p">:</span> <span class="p">[</span><span class="kc">True</span><span class="p">],</span>
</span><span id="line-9">    <span class="s2">"sex"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Female"</span><span class="p">]</span>
</span><span id="line-10"><span class="p">})</span>
</span><span id="line-11"><span class="n">failed_df</span> <span class="o">=</span> <span class="n">create_user</span><span class="p">(</span><span class="n">user_df</span> <span class="o">=</span> <span class="n">user_df</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p>Validate data before submission to avoid <code class="xref py py-class docutils literal notranslate"><span class="pre">AMSError</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">required</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"first_name"</span><span class="p">,</span> <span class="s2">"last_name"</span><span class="p">,</span> <span class="s2">"username"</span><span class="p">,</span> <span class="s2">"email"</span><span class="p">,</span> <span class="s2">"dob"</span><span class="p">,</span> <span class="s2">"password"</span><span class="p">,</span> <span class="s2">"active"</span><span class="p">]</span>
</span><span id="line-2"><span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="n">col</span> <span class="ow">in</span> <span class="n">user_df</span><span class="o">.</span><span class="n">columns</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">required</span><span class="p">):</span>
</span><span id="line-3">    <span class="nb">print</span><span class="p">(</span><span class="s2">"Missing required columns:"</span><span class="p">,</span> <span class="nb">set</span><span class="p">(</span><span class="n">required</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">user_df</span><span class="o">.</span><span class="n">columns</span><span class="p">))</span>
</span><span id="line-4"><span class="k">else</span><span class="p">:</span>
</span><span id="line-5">    <span class="n">failed_df</span> <span class="o">=</span> <span class="n">create_user</span><span class="p">(</span><span class="n">user_df</span> <span class="o">=</span> <span class="n">user_df</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="s2">"..."</span><span class="p">)</span>
</span></code></pre></div>
</div>
<p><strong>Interactive Mode</strong></p>
<p>When <code class="xref any docutils literal notranslate"><span class="pre">interactive_mode=True</span></code> (default), functions display progress messages (e.g.,
“ℹ Creating 1 users”) and <code class="xref py py-mod docutils literal notranslate"><span class="pre">tqdm</span></code> progress bars for <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code> and
<code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code>, enhancing feedback in interactive environments. For
<code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code>, it includes detailed success/failure summaries. Set
<code class="xref any docutils literal notranslate"><span class="pre">interactive_mode=False</span></code> for silent execution in automated pipelines:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</span><span id="line-2"><span class="n">results_df</span> <span class="o">=</span> <span class="n">edit_user</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">option</span> <span class="o">=</span> <span class="n">option</span><span class="p">)</span>  <span class="c1"># No output</span>
</span></code></pre></div>
</div>
</section>
<section id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#error-handling'"><span>#</span></a></h2>
<p><strong>teamworksams</strong> functions provide descriptive error messages via <code class="xref py py-class docutils literal notranslate"><span class="pre">AMSError</span></code>,
with interactive feedback when <code class="docutils literal notranslate"><span class="pre">interactive_mode</span></code> is enabled. For simple scripts or
interactive use (e.g., Jupyter notebooks), rely on these messages:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span>
</span><span id="line-2">    <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/invalid"</span><span class="p">,</span>
</span><span id="line-3">    <span class="n">option</span> <span class="o">=</span> <span class="n">UserOption</span><span class="p">(</span><span class="n">interactive_mode</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span><span id="line-4"><span class="p">)</span>
</span></code></pre></div>
</div>
<p><strong>Output</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">✖ Failed to log username into https://example.smartabase.com/invalid: Invalid URL or login credentials...
</span><span id="line-2">AMSError: Invalid URL or login credentials...
</span></code></pre></div>
</div>
</section>
<section id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#best-practices'"><span>#</span></a></h2>
<ul>
<li><p><strong>Security</strong>: Store credentials in <code class="docutils literal notranslate"><span class="pre">.env</span></code> or <code class="docutils literal notranslate"><span class="pre">keyring</span></code> to prevent exposure. Keep
<code class="docutils literal notranslate"><span class="pre">.env</span></code> files in secure, private directories.</p></li>
<li><p><strong>Data Validation</strong>: Verify DataFrame inputs before calling <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code> or
<code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="k">if</span> <span class="n">mapping_df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
</span><span id="line-2">    <span class="nb">print</span><span class="p">(</span><span class="s2">"Error: Mapping DataFrame is empty"</span><span class="p">)</span>
</span><span id="line-3"><span class="k">else</span><span class="p">:</span>
</span><span id="line-4">    <span class="n">failed_df</span> <span class="o">=</span> <span class="n">edit_user</span><span class="p">(</span><span class="n">mapping_df</span><span class="p">,</span> <span class="n">user_key</span> <span class="o">=</span> <span class="s2">"username"</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</li>
<li><p><strong>Interactive Mode</strong>: Enable for user-friendly feedback during operations.</p></li>
<li><p><strong>Caching</strong>: Use a cached client for multi-call efficiency:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">from</span><span class="w"> </span><span class="nn">teamworksams</span><span class="w"> </span><span class="kn">import</span> <span class="n">get_client</span>
</span><span id="line-2"><span class="n">client</span> <span class="o">=</span> <span class="n">get_client</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">,</span> <span class="n">cache</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span></code></pre></div>
</div>
</li>
</ul>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#troubleshooting'"><span>#</span></a></h2>
<ul>
<li><p><strong>No Users Found</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">AMSError: No users returned from server...
</span></code></pre></div>
</div>
<p><strong>Solution</strong>: Check credentials and filter settings. Test without filters:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="n">df</span> <span class="o">=</span> <span class="n">get_user</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Invalid DataFrame</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">ValueError: mapping_df is empty...
</span></code></pre></div>
</div>
<p><strong>Solution</strong>: Ensure DataFrame is non-empty and includes required columns:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="nb">print</span><span class="p">(</span><span class="n">mapping_df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>  <span class="c1"># Verify columns</span>
</span><span id="line-2"><span class="n">failed_df</span> <span class="o">=</span> <span class="n">edit_user</span><span class="p">(</span><span class="n">mapping_df</span><span class="p">,</span> <span class="n">user_key</span> <span class="o">=</span> <span class="s2">"username"</span><span class="p">,</span> <span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">)</span>
</span></code></pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>API Errors</strong>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span><code><span id="line-1">AMSError: Failed to fetch data... (status 503)...
</span></code></pre></div>
</div>
<p><strong>Solution</strong>: Check AMS server status. Retry with delay:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span id="line-1"><span class="kn">from</span><span class="w"> </span><span class="nn">time</span><span class="w"> </span><span class="kn">import</span> <span class="n">sleep</span>
</span><span id="line-2"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
</span><span id="line-3">    <span class="k">try</span><span class="p">:</span>
</span><span id="line-4">        <span class="n">df</span> <span class="o">=</span> <span class="n">get_group</span><span class="p">(</span><span class="n">url</span> <span class="o">=</span> <span class="s2">"https://example.smartabase.com/site"</span><span class="p">)</span>
</span><span id="line-5">        <span class="k">break</span>
</span><span id="line-6">    <span class="k">except</span> <span class="n">AMSError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="line-7">        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Retry </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>
</span><span id="line-8">        <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></code></pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading" x-intersect.margin.0%.0%.-70%.0%="activeSection = '#next-steps'"><span>#</span></a></h2>
<ul class="simple">
<li><p>Explore exporting data in <span class="xref std std-ref">exporting_data.rst</span>.</p></li>
<li><p>Consult <span class="xref std std-ref">reference</span> for function details.</p></li>
<li><p>Visit <a class="reference external" href="https://github.com/brandonyach/teamworksams">GitHub</a> for support.</p></li>
</ul>
</section>
</section>
</div></div><aside class="hidden text-sm xl:block" id="right-sidebar">
<div class="sticky top-16 -mt-10 max-h-[calc(100vh-5rem)] overflow-y-auto pt-6 space-y-2"><p class="font-medium">On this page</p>
<ul>
<li><a :data-current="activeSection === '#overview'" class="reference internal" href="#overview">Overview</a></li>
<li><a :data-current="activeSection === '#prerequisites'" class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a :data-current="activeSection === '#fetching-user-data-with-get-user'" class="reference internal" href="#fetching-user-data-with-get-user">Fetching User Data with <code class="xref py py-func docutils literal notranslate"><span class="pre">get_user()</span></code></a></li>
<li><a :data-current="activeSection === '#fetching-group-data-with-get-group'" class="reference internal" href="#fetching-group-data-with-get-group">Fetching Group Data with <code class="xref py py-func docutils literal notranslate"><span class="pre">get_group()</span></code></a></li>
<li><a :data-current="activeSection === '#updating-user-profiles-with-edit-user'" class="reference internal" href="#updating-user-profiles-with-edit-user">Updating User Profiles with <code class="xref py py-func docutils literal notranslate"><span class="pre">edit_user()</span></code></a></li>
<li><a :data-current="activeSection === '#creating-new-users-with-create-user'" class="reference internal" href="#creating-new-users-with-create-user">Creating New Users with <code class="xref py py-func docutils literal notranslate"><span class="pre">create_user()</span></code></a></li>
<li><a :data-current="activeSection === '#options-and-usage-notes'" class="reference internal" href="#options-and-usage-notes">Options and Usage Notes</a></li>
<li><a :data-current="activeSection === '#error-handling'" class="reference internal" href="#error-handling">Error Handling</a></li>
<li><a :data-current="activeSection === '#best-practices'" class="reference internal" href="#best-practices">Best Practices</a></li>
<li><a :data-current="activeSection === '#troubleshooting'" class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li><a :data-current="activeSection === '#next-steps'" class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</div>
</aside>
</main>
</div>
</div><footer class="py-6 border-t border-border md:py-0">
<div class="container flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row">
<div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0">
<p class="text-sm leading-loose text-center text-muted-foreground md:text-left">© 2025, Brandon Yach Built with <a class="font-medium underline underline-offset-4" href="https://www.sphinx-doc.org" rel="noreferrer">Sphinx 8.2.3</a></p>
</div>
</div>
</footer>
</div>
<script src="../_static/documentation_options.js?v=01f34227"></script>
<script src="../_static/doctools.js?v=9bcbadda"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script defer="defer" src="../_static/theme.js?v=073f68d9"></script>
</body>
</html>